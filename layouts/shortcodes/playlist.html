{{/*  Basic Audio Player Version - Verified Variables  */}}
<div class="playlist">
  {{ range where site.RegularPages "Type" "music" }}
  <div class="track">
    {{/*  Verified cover image path with default fallback  */}}
    <img src="{{ .Params.cover_image | default `/img/default-cover.png` }}" 
         alt="{{ .Title }} cover art" width="80" height="80">
    
    <div class="track-info">
      <h4>{{ .Title }}</h4>
      {{/*  Verified artist field  */}}
      <p class="artist">{{ .Params.artist | default "Unknown Artist" }}</p>
      
      {{/*  Verified audio file path  */}}
      <audio controls preload="none">
        <source src="{{ .Params.audio }}" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
    </div>
  </div>
  {{ else }}
  <p class="no-tracks">No music tracks found. Check your content/music/ folder.</p>
  {{ end }}
</div>

<style>
.playlist { 
  margin: 2rem 0;
  font-family: sans-serif;
}
.track {
  display: flex;
  gap: 1.5rem;
  padding: 1rem;
  align-items: center;
  border-bottom: 1px solid #eee;
  transition: background 0.2s;
}
.track img {
  border-radius: 4px;
  object-fit: cover;
}
.track-info {
  flex-grow: 1;
}
.track-info h4 {
  margin: 0 0 0.25rem;
}
.track-info .artist {
  margin: 0 0 0.5rem;
  color: #666;
  font-size: 0.9em;
}
.track audio { 
  width: 100%;
  max-width: 300px;
  height: 40px;
}
.no-tracks {
  color: #999;
  font-style: italic;
  padding: 1rem;
}
</style>